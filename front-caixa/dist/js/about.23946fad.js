"use strict";(self["webpackChunkfront_caixa"]=self["webpackChunkfront_caixa"]||[]).push([[594],{594:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var n=e(6768);function r(t,a,e,r,o,l){const s=(0,n.g2)("resumo");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(s)])}var o=e(5130),l=e(4232);const s={class:"container"},d={id:"formu"},c={key:0,id:"total"},u={key:1,id:"tabela"},i=["onClick"];function h(t,a,e,r,h,k){return(0,n.uX)(),(0,n.CE)("section",s,[(0,n.Lk)("section",d,[a[2]||(a[2]=(0,n.Lk)("label",{for:"senha"},"DIGITE A SENHA DE ADM",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"senha",name:"senha","onUpdate:modelValue":a[0]||(a[0]=t=>h.senha=t),maxlength:"4"},null,512),[[o.Jo,h.senha]]),(0,n.Lk)("button",{type:"button",class:"btn btn-success",id:"btn",onClick:a[1]||(a[1]=(...t)=>k.verificarSenha&&k.verificarSenha(...t))},"VERIFICAR")]),h.AcessoLiberado?((0,n.uX)(),(0,n.CE)("div",c,[a[3]||(a[3]=(0,n.Lk)("h2",null,"TOTAL DE VENDAS",-1)),(0,n.Lk)("p",null,(0,l.v_)(k.formatarNumero(h.totalV)),1)])):(0,n.Q3)("",!0),a[5]||(a[5]=(0,n.Lk)("hr",null,null,-1)),h.AcessoLiberado?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("table",null,[a[4]||(a[4]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"DESCRIÇÃO"),(0,n.Lk)("th",null,"VALOR"),(0,n.Lk)("th",null,"F/PAGAMENTO"),(0,n.Lk)("th",null,"DATA"),(0,n.Lk)("th",null,"AÇÃO")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.vendas,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id},[(0,n.Lk)("td",null,(0,l.v_)(t.id),1),(0,n.Lk)("td",null,(0,l.v_)(t.descricao),1),(0,n.Lk)("td",null,(0,l.v_)(k.formatarNumero(t.valorVenda)),1),(0,n.Lk)("td",null,(0,l.v_)(t.formaPagamento),1),(0,n.Lk)("td",null,(0,l.v_)(k.formatarDataHora(t.datavenda)),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-danger btn-block",onClick:a=>k.deletarVenda(t.id)},"EXCLUIR",8,i)])])))),128))])])])):(0,n.Q3)("",!0)])}var k={name:"Resumo",data(){return{AcessoLiberado:!1,senha:"",vendas:[],totalV:0}},methods:{verificarSenha(){const t=1234;if(this.senha==t){this.AcessoLiberado=!0;let t=document.getElementById("formu");t.style.display="none"}else alert("VOCÊ NÃO TEM PERMISSÃO "),this.senha=""},async carregarVendas(){try{const t=await fetch("http://localhost:3000/vendas"),a=await t.json();this.vendas=a}catch(t){alert("Erro ao carregar vendas: ")}},formatarNumero(t){return Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},formatarDataHora(t){const a=new Date(t);return a.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},async deletarVenda(t){try{await fetch(`http://localhost:3000/deletarVenda/${t}`,{method:"DELETE"}),alert("Venda deletada com sucesso!"),this.carregarVendas(),this.total()}catch(a){alert("Erro ao deletar venda: ")}},async total(){try{const t=await fetch("http://localhost:3000/totalVendas",{method:"GET"}),a=await t.json();this.totalV=a.totalVendas}catch(t){console.log(t),alert("Erro ao buscar o total de vendas")}}},mounted(){this.carregarVendas(),this.total()}},L=e(1241);const m=(0,L.A)(k,[["render",h],["__scopeId","data-v-597e13f4"]]);var v=m,f={components:{resumo:v}};const E=(0,L.A)(f,[["render",r]]);var b=E}}]);
//# sourceMappingURL=about.23946fad.js.map